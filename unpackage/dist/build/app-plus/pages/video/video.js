!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=72)}([function(t,e,i){"use strict";function n(t,e,i,n,r,o,a,s,c,u){var l,d="function"==typeof t?t.options:t;if(c){d.components||(d.components={});var f=Object.prototype.hasOwnProperty;for(var h in c)f.call(c,h)&&!f.call(d.components,h)&&(d.components[h]=c[h])}if(u&&((u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(d.mixins||(d.mixins=[])).push(u)),e&&(d.render=e,d.staticRenderFns=i,d._compiled=!0),n&&(d.functional=!0),o&&(d._scopeId="data-v-"+o),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},d._ssrRegister=l):r&&(l=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(d.functional){d._injectStyles=l;var p=d.render;d.render=function(t,e){return l.call(e),p(t,e)}}else{var v=d.beforeCreate;d.beforeCreate=v?[].concat(v,l):[l]}return{exports:t,options:d}}i.d(e,"a",(function(){return n}))},function(t,e){t.exports={"@VERSION":2}},function(t,e,i){"use strict";i.r(e);var n=i(3),r=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i(59)),r=o(i(60));function o(t){return t&&t.__esModule?t:{default:t}}var a={components:{chunLeiSlider:n.default,chunLeiDanmu:r.default},props:{controls:{type:Boolean,default:!1},src:{type:String,default:""},rotateImg:{type:String,default:""},play:{type:Boolean,default:!1},height:{type:String,default:""},width:{type:String,default:""},initialTime:{type:Number,default:0},gDuration:{type:Number,default:999},objectFit:{type:String,default:"contain"},poster:{type:String,default:""},danmuList:{type:Array,default:[]}},data:function(){return{time:0,duration:0,playFirst:!0,load:!1,timer:null}},beforeCreate:function(){weex.requireModule("dom").addRule("fontFace",{fontFamily:"texticons",src:"url('//static/chunlei-video/text-icon.ttf')"})},mounted:function(){var t=this;this.videoCtx=uni.createVideoContext("video_".concat(this.src),this),setTimeout((function(){t.videoCtx.play()}),200)},methods:{continuePlay:function(){var t=this;this.load||setTimeout((function(){t.load=!0,t.videoPlay()}),1e3)},changeCurrent:function(t){this.time=t.detail.value,this.videoCtx.seek(this.time)},playEnd:function(){this.$emit("playEnd")},timeupdate:function(t){this.duration=t.detail.duration,this.time>=t.detail.duration&&(this.time=0),this.time=t.detail.currentTime,this.$emit("timeupdate",this.time)},videoPlay:function(){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.play?(t.videoCtx.play(),t.playFirst=!1):(t.videoCtx.pause(),t.$emit("pause",t.time))}))}},watch:{play:function(t,e){this.load&&this.videoPlay()},startTime:{immediate:!0,handler:function(t,e){this.time=t}},gDuration:{immediate:!0,handler:function(t,e){this.duration=t}}},computed:{barWidth:function(){var t=this.time/this.duration*parseInt(this.width);return"".concat(t,"px")},startTime:function(){return this.initialTime}}};e.default=a},function(t,e,i){"use strict";i.r(e);var n=i(5),r=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{min:{type:Number,default:0},max:{type:Number,default:0},value:{type:Number,default:0},width:{type:Number,default:0},ratio:{type:Number,default:1},direction:{type:String,default:"screenX"},backgroundColor:{type:String,default:"#e9e9e9"},blockColor:{type:String,default:"#ffffff"},screenLeft:{type:Number,default:0},iosDirection:{type:Number,default:1}},data:function(){return{oldToucesX:0,leftWidth:0,oldLeftWidth:0,touch:!1}},mounted:function(){},methods:{sliderTouch:function(e){t("log",e," at componets/chunlei-video/chunLei-slider/chunLei-slider.nvue:78");var i=e.changedTouches[0];this.leftWidth=(i[this.direction]||i.clientX)*this.ratio-this.screenLeft,this.leftWidth=this.leftWidth>this.currentWidth?this.currentWidth:this.leftWidth,this.leftWidth=this.leftWidth<0?0:this.leftWidth,this.blockTouchEnd()},blockTouchStart:function(t){this.touch=!0,this.oldLeftWidth=this.leftWidth,this.oldToucesX=t.changedTouches[0][this.direction]||t.changedTouches[0].clientX},blockTouchMove:function(t){var e;e=t.changedTouches[0][this.direction]||t.changedTouches[0].clientX,this.leftWidth=this.iosDirection*(e-this.oldToucesX)*this.ratio+this.oldLeftWidth,this.leftWidth=this.leftWidth>this.currentWidth?this.currentWidth:this.leftWidth,this.leftWidth=this.leftWidth<0?0:this.leftWidth},blockTouchEnd:function(t){var e={detail:{value:this.leftWidth/this.currentWidth*this.max}};this.$emit("change",e),this.touch=!1},colorRgb:function(t,e){var i=t.toLowerCase();if(i&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(i)){if(4===i.length){for(var n="#",r=1;r<4;r+=1)n+=i.slice(r,r+1).concat(i.slice(r,r+1));i=n}var o=[];for(r=1;r<7;r+=2)o.push(parseInt("0x"+i.slice(r,r+2)));return"rgba("+o.join(",")+",".concat(e)+")"}return i}},computed:{blockOuterColor:function(){return this.colorRgb(this.blockColor,.4)},blockBackgroundColor:function(){return this.colorRgb(this.blockColor,.5)},currentWidth:function(){return this.width-40}},watch:{value:{immediate:!0,handler:function(t,e){this.touch||(this.leftWidth=t/this.max*this.currentWidth,this.leftWidth=this.leftWidth>this.currentWidth?this.currentWidth:this.leftWidth)}}}};e.default=i}).call(this,i(14).default)},function(t,e){t.exports={".slider":{"":{position:["relative",0,0,16],flexDirection:["row",0,0,16],height:["40",0,0,16],alignItems:["center",0,0,16],justifyContent:["center",0,0,16]}},".slider-left":{"":{height:["40",0,0,17],flexDirection:["row",0,0,17],alignItems:["center",0,0,17]}},".left":{"":{flex:[1,0,0,18],height:["3",0,0,18]}},".slider-right":{"":{height:["40",0,0,19],flexDirection:["row",0,0,19],alignItems:["center",0,0,19]}},".right":{"":{height:["3",0,0,20],backgroundColor:["rgba(0,0,0,0.3)",0,0,20],flex:[1,0,0,20]}},".block":{"":{position:["absolute",0,0,21],height:["40",0,0,21],width:["40",0,0,21],borderRadius:["20",0,0,21],justifyContent:["center",0,0,21],alignItems:["center",0,0,21],zIndex:[999999,0,0,21]}},".block-inner":{"":{height:["20",0,0,22],width:["20",0,0,22],borderRadius:["10",0,0,22],justifyContent:["center",0,0,22],alignItems:["center",0,0,22]}},".block-inner-inner":{"":{height:["10",0,0,23],width:["10",0,0,23],borderRadius:["5",0,0,23]}},"@VERSION":2}},function(t,e,i){"use strict";i.r(e);var n=i(8),r=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=(n=i(15))&&n.__esModule?n:{default:n};function o(t,e,i,n,r,o,a){try{var s=t[o](a),c=s.value}catch(t){return void i(t)}s.done?e(c):Promise.resolve(c).then(n,r)}function a(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(c)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var c,u,l=weex.requireModule("animation"),d=(weex.requireModule("modal"),{props:{width:{type:Number,default:0},danmuList:{type:[Array],default:function(){return[]}},platform:{type:String,default:"android"},current:{type:Number,default:0}},data:function(){return{danmuList1:[],danmuList2:[],danmuList3:[],danmuList4:[]}},methods:{promise:function(){var t=new Promise((function(t,e){setTimeout((function(){t()}),100)}));return t},cleanDanmu:function(){this.danmuList1=[],this.danmuList2=[],this.danmuList3=[],this.danmuList4=[]},randomRange:function(t,e){return Math.floor(Math.random()*(e-t))+t},animationText:function(t,e,i){var n,r,o=a(this.$refs.move);try{for(o.s();!(r=o.n()).done;){var s=r.value;s.attr.id==t&&(n=s)}}catch(t){o.e(t)}finally{o.f()}l.transition(n,{styles:{transform:"translate( ".concat(e,"px, 0px)")},duration:2e4,timingFunction:"ease",delay:0},(function(){i()}))}},watch:{danmuList:{immediate:!0,handler:function(t,e){for(var i in t)t[i]._id=i}},current:{handler:(c=r.default.mark((function t(e,i){var n,o,s,c=this;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(Math.abs(e-i)>=.24)){t.next=17;break}n=a(this.danmuList),t.prev=2,s=r.default.mark((function t(){var i,n;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((i=o.value).time>Math.floor(1*e)&&i.time<=Math.floor(1*e+.25))){t.next=7;break}return n=c.randomRange(1,5),c["danmuList".concat(n)].push(i),t.next=6,c.promise();case 6:c.animationText(i._id,2*-c.width,(function(){var t;for(var e in c["danmuList".concat(n)])c["danmuList".concat(n)][e]._id==i._id&&(t=e);c["danmuList".concat(n)].splice(t,1)}));case 7:case"end":return t.stop()}}),t)})),n.s();case 5:if((o=n.n()).done){t.next=9;break}return t.delegateYield(s(),"t0",7);case 7:t.next=5;break;case 9:t.next=14;break;case 11:t.prev=11,t.t1=t.catch(2),n.e(t.t1);case 14:return t.prev=14,n.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[2,11,14,17]])})),u=function(){var t=this,e=arguments;return new Promise((function(i,n){var r=c.apply(t,e);function a(t){o(r,i,n,a,s,"next",t)}function s(t){o(r,i,n,a,s,"throw",t)}a(void 0)}))},function(t,e){return u.apply(this,arguments)})}}});e.default=d},function(t,e){t.exports={".danmu":{"":{height:["160",0,0,0],flexDirection:["column",0,0,0]}},".danmu-row":{"":{position:["relative",0,0,1],height:["40",0,0,1],flexDirection:["row",0,0,1]}},".moveDiv":{"":{position:["absolute",0,0,2],flexDirection:["row",0,0,2],justifyContent:["center",0,0,2]}},".android-title":{"":{fontSize:["24",0,0,3]}},".img":{"":{width:["30",0,0,4],height:["30",0,0,4],marginLeft:["10",0,0,4],borderRadius:["15",0,0,4]}},".ios-title":{"":{fontSize:["24",0,0,5]}},"@VERSION":2}},function(t,e){t.exports={".video":{"":{width:["750rpx",0,0,0],justifyContent:["center",0,0,0],alignItems:["center",0,0,0]}},".img":{"":{position:["absolute",0,0,1],width:["750rpx",0,0,1]}},".icon-view":{"":{position:["absolute",0,0,2]}},".top":{"":{position:["absolute",0,0,3],top:[0,0,0,3],backgroundImage:["linear-gradient(to top , rgba(0,0,0,0) , rgba(0,0,0,0.7))",0,0,3],width:["750rpx",0,0,3],height:["300rpx",0,0,3]}},".icon":{"":{opacity:[.6,0,0,4],fontSize:["42",0,0,4],color:["#ffffff",0,0,4],fontFamily:["texticons",0,0,4]}},".bottom":{"":{position:["absolute",0,0,5],bottom:[0,0,0,5],backgroundImage:["linear-gradient(to top , rgba(0,0,0,0.7) , rgba(0,0,0,0))",0,0,5],width:["750rpx",0,0,5],height:["300rpx",0,0,5]}},".slider-view":{"":{position:["absolute",0,0,6],left:[0,0,0,6],bottom:["30",0,0,6],width:["750rpx",0,0,6]}},".progressBar":{"":{borderRadius:["2upx",0,0,7],height:["4upx",0,0,7],backgroundColor:["#FFFFFF",0,0,7],zIndex:[999999,0,0,7],position:["absolute",0,0,7],left:[0,0,0,7],bottom:["30",0,0,7]}},".danmu-view":{"":{position:["absolute",0,0,8],top:[0,0,0,8],height:["160",0,0,8]}},".rotate-img":{"":{width:["90rpx",0,0,9],height:["90rpx",0,0,9],position:["absolute",0,0,9],bottom:["100rpx",0,0,9],right:["20rpx",0,0,9],borderRadius:["45rpx",0,0,9]}},"@VERSION":2}},function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:["video"]},[i("u-video",{ref:"`video_${src}`",staticClass:["video"],style:{height:t.height},attrs:{src:t.src,controls:t.controls,showPlayBtn:!1,muted:!t.load||!t.play,loop:!0,enableProgressGesture:!1,objectFit:t.objectFit,initialTime:t.startTime,id:"video_"+t.src},on:{play:t.continuePlay,ended:t.playEnd,timeupdate:t.timeupdate}}),t.play||t.playFirst?t._e():i("cover-view",{staticClass:["icon-view"]},[i("u-text",{staticClass:["icon"],staticStyle:{color:"#FFF"},appendAsTree:!0,attrs:{append:"tree"}},[t._v("\ue896")])]),""!=t.poster&&t.playFirst?i("cover-image",{staticClass:["img"],style:{height:t.height},attrs:{src:t.poster}}):t._e(),i("cover-view",{staticClass:["top"]}),i("cover-view",{staticClass:["bottom"]}),i("cover-view",{staticClass:["danmu-view"]},[i("chunLei-danmu",{ref:"danmu",attrs:{danmuList:t.danmuList,width:750,current:t.time}})],1),i("cover-view",{staticClass:["slider-view"]},[i("chunLei-slider",{style:{width:"380px"},attrs:{max:t.duration,value:t.time,screenLeft:120,width:380},on:{change:t.changeCurrent}})],1),i("cover-image",{staticClass:["rotate-img"],style:{transform:"rotate("+20*t.time+"deg)"},attrs:{src:t.rotateImg}})],1)},r=[]},function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:["danmu"],style:{width:t.width+"px"}},[i("div",{staticClass:["danmu-row"],style:{width:t.width+"px"}},t._l(t.danmuList1,(function(e){return i("div",{key:e._id,ref:"move",refInFor:!0,staticClass:["moveDiv"],style:{left:t.width+"px"},attrs:{id:e._id}},[e.avatar?i("u-image",{staticClass:["img"],attrs:{src:e.avatar}}):t._e(),i("u-text",{class:t.platform+"-title",style:{color:e.color?e.color:"#fff"},appendAsTree:!0,attrs:{append:"tree"}},[t._v(t._s(e.text))])],1)})),0),i("div",{staticClass:["danmu-row"],style:{width:t.width+"px"}},t._l(t.danmuList2,(function(e){return i("div",{key:e._id,ref:"move",refInFor:!0,staticClass:["moveDiv"],style:{left:t.width+"px"},attrs:{id:e._id}},[e.avatar?i("u-image",{staticClass:["img"],attrs:{src:e.avatar}}):t._e(),i("u-text",{class:t.platform+"-title",style:{color:e.color?e.color:"#fff"},appendAsTree:!0,attrs:{append:"tree"}},[t._v(t._s(e.text))])],1)})),0),i("div",{staticClass:["danmu-row"],style:{width:t.width+"px"}},t._l(t.danmuList3,(function(e){return i("div",{key:e._id,ref:"move",refInFor:!0,staticClass:["moveDiv"],style:{left:t.width+"px"},attrs:{id:e._id}},[e.avatar?i("u-image",{staticClass:["img"],attrs:{src:e.avatar}}):t._e(),i("u-text",{class:t.platform+"-title",style:{color:e.color?e.color:"#fff"},appendAsTree:!0,attrs:{append:"tree"}},[t._v(t._s(e.text))])],1)})),0),i("div",{staticClass:["danmu-row"],style:{width:t.width+"px"}},t._l(t.danmuList4,(function(e){return i("div",{key:e._id,ref:"move",refInFor:!0,staticClass:["moveDiv"],style:{left:t.width+"px"},attrs:{id:e._id}},[e.avatar?i("u-image",{staticClass:["img"],attrs:{src:e.avatar}}):t._e(),i("u-text",{class:t.platform+"-title",style:{color:e.color?e.color:"#fff"},appendAsTree:!0,attrs:{append:"tree"}},[t._v(t._s(e.text))])],1)})),0)])},r=[]},function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"slider",staticClass:["slider","flex"],style:{width:t.width+"px"},attrs:{id:"slider"}},[i("div",{staticClass:["slider-left","flex"],style:{width:t.leftWidth+"px"},on:{touchend:t.sliderTouch}},[i("div",{staticClass:["left"],style:{backgroundColor:t.backgroundColor}})]),i("div",{staticClass:["slider-right","flex"],style:{width:t.currentWidth-t.leftWidth+"px"},on:{touchend:t.sliderTouch}},[i("div",{staticClass:["right"]})]),i("div",{staticClass:["block","flex"],style:{backgroundColor:t.touch?t.blockOuterColor:"rgba(0,0,0,0)",left:t.leftWidth+"px"},on:{click:function(t){}}},[i("div",{staticClass:["block-inner","flex"],style:{backgroundColor:t.blockBackgroundColor},on:{touchmove:t.blockTouchMove,touchend:t.blockTouchEnd,touchstart:t.blockTouchStart}},[i("div",{staticClass:["block-inner-inner"],style:{backgroundColor:t.blockColor}})])])])},r=[]},function(t,e,i){"use strict";function n(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function r(){return"string"==typeof __channelId__&&__channelId__}function o(t,e){switch(n(e)){case"Function":return"function() { [native code] }";default:return e}}Object.defineProperty(e,"__esModule",{value:!0}),e.log=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];console[t].apply(console,i)},e.default=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var a=e.shift();if(r())return e.push(e.pop().replace("at ","uni-app:///")),console[a].apply(console,e);var s=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t,o)+"---END:JSON---"}catch(i){t=e}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var i=n(t).toUpperCase();t="NUMBER"===i||"BOOLEAN"===i?"---BEGIN:"+i+"---"+t+"---END:"+i+"---":String(t)}return t})),c="";if(s.length>1){var u=s.pop();c=s.join("---COMMA---"),0===u.indexOf(" at ")?c+=u:c+="---COMMA---"+u}else c=s[0];console[a](c)}},function(t,e,i){t.exports=i(57)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return weex.requireModule(t)}},function(t,e,i){Vue.prototype.__$appStyle__={},Vue.prototype.__merge_style&&Vue.prototype.__merge_style(i(18).default,Vue.prototype.__$appStyle__)},function(t,e,i){"use strict";i.r(e);var n=i(1),r=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var n=i(6),r=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var n=i(9),r=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var n=i(10),r=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";var n=i(51),r=i(25),o=i(0);var a=Object(o.a)(r.default,n.b,n.c,!1,null,"0b04408b","24843507",!1,n.a,void 0);(function(t){this.options.style||(this.options.style={}),Vue.prototype.__merge_style&&Vue.prototype.__$appStyle__&&Vue.prototype.__merge_style(Vue.prototype.__$appStyle__,this.options.style),Vue.prototype.__merge_style?Vue.prototype.__merge_style(i(61).default,this.options.style):Object.assign(this.options.style,i(61).default)}).call(a),e.default=a.exports},,,function(t,e,i){"use strict";var n=i(26),r=i.n(n);e.default=r.a},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(i(15)),o=s(i(58)),a=s(i(73));function s(t){return t&&t.__esModule?t:{default:t}}function c(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){if(t){if("string"==typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function d(t,e,i,n,r,o,a){try{var s=t[o](a),c=s.value}catch(t){return void i(t)}s.done?e(c):Promise.resolve(c).then(n,r)}var f=getApp().globalData,h=(t("bindingx"),weex.requireModule("animation"),weex.requireModule("modal"),{mixins:[a.default],components:{chunleiVideo:o.default},data:function(){return{videoList:[]}},created:function(){this.init()},mounted:function(){var t,e=this;return(t=r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.pushVideoList();case 2:e.$nextTick((function(){e.videoPlay(e.index)}));case 3:case"end":return t.stop()}}),t)})),function(){var e=this,i=arguments;return new Promise((function(n,r){var o=t.apply(e,i);function a(t){d(o,n,r,a,s,"next",t)}function s(t){d(o,n,r,a,s,"throw",t)}a(void 0)}))})()},onLoad:function(t){n("log",t," at pages/video/video.nvue:86");var e=t.id;n("log",f.api," at pages/video/video.nvue:88");var i=this;uni.request({method:"GET",url:f.api+"/user/getmyvideo/"+e,success:function(t){n("log",t," at pages/video/video.nvue:94"),0===t.data.statusCode?i.videoList.push(t.data.data):uni.showToast({title:t.data.data,icon:"none"})}}),setTimeout((function(){i.videoPlay(this.index)}),0)},onShow:function(t){n("log",t," at pages/video/video.nvue:111")},onHide:function(){var t,e=function(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=u(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}(this.videoList);try{for(e.s();!(t=e.n()).done;){t.value.flag=!1}}catch(t){e.e(t)}finally{e.f()}},methods:{clickbt:function(){n("log",11," at pages/video/video.nvue:121")},init:function(){this.typeX=!0,this.playCount=2,this.startDistance=5,this.minTime=300,this.backDistance=200},pushVideoList:function(){},tapLove:function(t){t.stopPropagation(),0==this.distanceX&&(this.videoList[this.index].check=!this.videoList[this.index].check,this.videoList=c(this.videoList))},tapAvater:function(t){t.stopPropagation(),0==this.distanceX&&uni.showToast({icon:"none",title:"\u70b9\u51fb\u7d22\u5f15\u4e3a".concat(this.index,"\u7684\u5934\u50cf")})},tapMsg:function(t){t.stopPropagation(),this.distanceX},tapShare:function(t){t.stopPropagation(),0==this.distanceX&&uni.showToast({icon:"none",title:"\u5206\u4eab\u7d22\u5f15\u4e3a".concat(this.index,"\u7684\u89c6\u9891")})}}});e.default=h}).call(this,i(16).default,i(14).default)},function(t,e){t.exports={".page":{"":{flex:[1,0,0,16],overflow:["hidden",0,0,16],position:["relative",0,0,16]}},".swiper":{"":{position:["relative",0,0,17],backgroundColor:["#000000",0,0,17]}},".left-div":{"":{position:["absolute",0,0,18],top:[0,0,0,18],justifyContent:["center",0,0,18],alignItems:["center",0,0,18]}},".right-div":{"":{position:["absolute",0,0,19],top:[0,0,0,19],justifyContent:["center",0,0,19],alignItems:["center",0,0,19]}},".title-text":{"":{fontSize:["16",0,0,20],color:["#000000",0,0,20]}},".video-box":{"":{position:["relative",0,0,21],backgroundColor:["#000000",0,0,21]}},".cover-view-center":{"":{position:["fixed",0,0,22],justifyContent:["center",0,0,22],alignItems:["center",0,0,22],zIndex:[999,0,0,22]}},".cover-view-top":{"":{position:["fixed",0,0,23],width:["750rpx",0,0,23],height:["150",0,0,23],overflow:["hidden",0,0,23]}},".cover-view-left":{"":{position:["absolute",0,0,24],marginLeft:["10upx",0,0,24],width:["500upx",0,0,24],bottom:["200upx",0,0,24],zIndex:[9999,0,0,24],fontSize:["16",0,0,24],color:["#FFFFFF",0,0,24]}},".left-text":{"":{fontSize:["16",0,0,25],color:["#FFFFFF",0,0,25],marginBottom:["20upx",0,0,25]}},".avater":{"":{borderRadius:["50upx",0,0,26],borderColor:["#ffffff",0,0,26],borderStyle:["solid",0,0,26],borderWidth:["2",0,0,26]}},".cover-view-right":{"":{position:["absolute",0,0,27],top:["400upx",0,0,27],right:["20upx",0,0,27],zIndex:[9999,0,0,27]}},".right-text-avater":{"":{position:["absolute",0,0,28],fontSize:["14",0,0,28],top:["80upx",0,0,28],left:["30upx",0,0,28],height:["40upx",0,0,28],width:["40upx",0,0,28],backgroundColor:["#DD524D",0,0,28],color:["#FFFFFF",0,0,28],borderRadius:[50,0,0,28],textAlign:["center",0,0,28],lineHeight:["40upx",0,0,28],zIndex:[999,0,0,28]}},".avater-icon":{"":{height:["40upx",0,0,29],width:["40upx",0,0,29],color:["#ffffff",0,0,29],backgroundColor:["#DD524D",0,0,29],borderRadius:[50,0,0,29],position:["absolute",0,0,29],left:["30upx",0,0,29],top:["-20upx",0,0,29]}},".right-text":{"":{textAlign:["center",0,0,30],fontSize:["14",0,0,30],color:["#FFFFFF",0,0,30],marginBottom:["50upx",0,0,30],height:["20",0,0,30]}},".img":{"":{height:["100upx",0,0,31],width:["100upx",0,0,31],opacity:[.9,0,0,31]}},"@VERSION":2}},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("scroll-view",{staticStyle:{flexDirection:"column"},attrs:{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true"}},[i("div",{staticClass:["page"]},[0==t.distanceX?i("div",{staticClass:["cover-view-center"]},[i("div",{ref:"touch",style:{height:t.sysheight-60+"px",width:t.width},on:{click:function(e){t.clickVideo(t.index)},touchstart:t.ListTouchStart,touchmove:t.ListTouchMove}},[0==t.distanceX?i("div",{staticClass:["cover-view-right"]},[i("u-image",{staticClass:["img"],on:{click:t.tapAvater}}),i("u-text",{staticClass:["right-text"],appendAsTree:!0,attrs:{append:"tree"}}),i("u-image",{staticClass:["img"],on:{click:t.tapLove}}),i("u-text",{staticClass:["right-text"],appendAsTree:!0,attrs:{append:"tree"}}),i("u-image",{staticClass:["img"],on:{click:t.tapMsg}}),i("u-text",{staticClass:["right-text"],appendAsTree:!0,attrs:{append:"tree"}}),i("u-image",{staticClass:["img"],on:{click:t.tapShare}}),i("u-text",{staticClass:["right-text"],appendAsTree:!0,attrs:{append:"tree"}})],1):t._e()])]):t._e(),i("div",{ref:"swiper",staticClass:["swiper"]},t._l(t.videoList,(function(e,n){return i("block",{key:n},[i("div",{staticClass:["video-box"],style:{height:t.height}},[Math.abs(t.index-n)<=1?i("block",[i("chunlei-video",{staticClass:["video"],attrs:{src:e.src,height:t.height,width:t.width,play:e.flag,gDuration:e.duration,objectFit:e.objectFit,initialTime:e.initialTime,rotateImg:"//static/avatar.png",danmuList:t.danmuList},on:{pause:t.pauseVideo}}),i("cover-view",{staticClass:["cover-view-left"]},[i("u-text",{staticClass:["left-text"],appendAsTree:!0,attrs:{append:"tree"}},[t._v("@"+t._s(e.at))]),i("u-text",{staticClass:["left-text"],appendAsTree:!0,attrs:{append:"tree"}},[t._v(t._s(e.title))]),i("u-text",{staticClass:["left-text"],appendAsTree:!0,attrs:{append:"tree"}},[t._v(t._s(e.content))])]),i("cover-view",{staticClass:["cover-view-right"]},[i("cover-image",{staticClass:["avater","img"],attrs:{src:e.avater},on:{click:t.tapAvater}}),i("u-text",{staticClass:["right-text-avater"],appendAsTree:!0,attrs:{append:"tree"}},[t._v("+")]),i("u-text",{staticClass:["right-text"],appendAsTree:!0,attrs:{append:"tree"}}),i("cover-image",{staticClass:["img"],attrs:{src:e.check?"../../static/aixinRed.png":"../../static/aixin.png"},on:{click:t.tapLove}}),i("u-text",{staticClass:["right-text"],appendAsTree:!0,attrs:{append:"tree"}},[t._v(t._s(e.like))]),i("cover-image",{staticClass:["img"],attrs:{src:"../../static/xiaoxi.png"},on:{click:t.tapMsg}}),i("u-text",{staticClass:["right-text"],appendAsTree:!0,attrs:{append:"tree"}},[t._v(t._s(e.comment))]),i("cover-image",{staticClass:["img"],attrs:{src:"../../static/share-fill.png"},on:{click:t.tapShare}}),i("u-text",{staticClass:["right-text"],appendAsTree:!0,attrs:{append:"tree"}},[t._v("\u5206\u4eab")])],1)],1):t._e()],1)])})),1)])])},r=[]},,,,,,function(t,e,i){var n=function(t){"use strict";var e=Object.prototype,i=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,i){return t[e]=i}}function c(t,e,i,n){var r=e&&e.prototype instanceof d?e:d,o=Object.create(r.prototype),a=new T(n||[]);return o._invoke=function(t,e,i){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return L()}for(i.method=r,i.arg=o;;){var a=i.delegate;if(a){var s=b(a,i);if(s){if(s===l)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var c=u(t,e,i);if("normal"===c.type){if(n=i.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n="completed",i.method="throw",i.arg=c.arg)}}}(t,i,a),o}function u(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function d(){}function f(){}function h(){}var p={};p[r]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(C([])));y&&y!==e&&i.call(y,r)&&(p=y);var m=h.prototype=d.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var n;this._invoke=function(r,o){function a(){return new e((function(n,a){!function n(r,o,a,s){var c=u(t[r],t,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}(r,o,n,a)}))}return n=n?n.then(a,a):a()}}function b(t,e){var i=t.iterator[e.method];if(void 0===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function C(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=m.constructor=h,h.constructor=f,f.displayName=s(h,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(x.prototype),x.prototype[o]=function(){return this},t.AsyncIterator=x,t.async=function(e,i,n,r,o){void 0===o&&(o=Promise);var a=new x(c(e,i,n,r),o);return t.isGeneratorFunction(i)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),s(m,a,"Generator"),m[r]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=C,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(i,n){return a.type="throw",a.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),w(i),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;w(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:C(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,e,i){"use strict";i.r(e);var n=i(11),r=i(2);for(var o in r)"default"!==o&&function(t){i.d(e,t,(function(){return r[t]}))}(o);var a=i(0);var s=Object(a.a)(r.default,n.b,n.c,!1,null,"5ead4f65","ecfcce0a",!1,n.a,void 0);(function(t){this.options.style||(this.options.style={}),Vue.prototype.__merge_style&&Vue.prototype.__$appStyle__&&Vue.prototype.__merge_style(Vue.prototype.__$appStyle__,this.options.style),Vue.prototype.__merge_style?Vue.prototype.__merge_style(i(21).default,this.options.style):Object.assign(this.options.style,i(21).default)}).call(s),e.default=s.exports},function(t,e,i){"use strict";i.r(e);var n=i(13),r=i(4);for(var o in r)"default"!==o&&function(t){i.d(e,t,(function(){return r[t]}))}(o);var a=i(0);var s=Object(a.a)(r.default,n.b,n.c,!1,null,"61245d94","3645f9c2",!1,n.a,void 0);(function(t){this.options.style||(this.options.style={}),Vue.prototype.__merge_style&&Vue.prototype.__$appStyle__&&Vue.prototype.__merge_style(Vue.prototype.__$appStyle__,this.options.style),Vue.prototype.__merge_style?Vue.prototype.__merge_style(i(19).default,this.options.style):Object.assign(this.options.style,i(19).default)}).call(s),e.default=s.exports},function(t,e,i){"use strict";i.r(e);var n=i(12),r=i(7);for(var o in r)"default"!==o&&function(t){i.d(e,t,(function(){return r[t]}))}(o);var a=i(0);var s=Object(a.a)(r.default,n.b,n.c,!1,null,null,"1fb8374a",!1,n.a,void 0);(function(t){this.options.style||(this.options.style={}),Vue.prototype.__merge_style&&Vue.prototype.__$appStyle__&&Vue.prototype.__merge_style(Vue.prototype.__$appStyle__,this.options.style),Vue.prototype.__merge_style?Vue.prototype.__merge_style(i(20).default,this.options.style):Object.assign(this.options.style,i(20).default)}).call(s),e.default=s.exports},function(t,e,i){"use strict";i.r(e);var n=i(27),r=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e.default=r.a},,,,,,,,,,,function(t,e,i){"use strict";i.r(e);i(17);var n=i(22);"undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){throw i}))}))}),n.default.mpType="page",n.default.route="pages/video/video",n.default.el="#root",new Vue(n.default)},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=i(15))&&r.__esModule?r:{default:r};function a(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(c)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function c(t,e,i,n,r,o,a){try{var s=t[o](a),c=s.value}catch(t){return void i(t)}s.done?e(c):Promise.resolve(c).then(n,r)}function u(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var o=t.apply(e,i);function a(t){c(o,n,r,a,s,"next",t)}function s(t){c(o,n,r,a,s,"throw",t)}a(void 0)}))}}var l=t("bindingx"),d=(weex.requireModule("animation"),weex.requireModule("modal"),{data:function(){return{typeX:!1,playCount:2,startDistance:5,minTime:300,backDistance:200,oldTime:0,oldTouces:{},touchType:null,gesToken:0,height:"667px",index:0,oldIndex:0,width:"",sysheight:0,distance:0,distanceX:0,scroll:!1}},created:function(){plus.screen.lockOrientation("portrait-primary"),this.sysheight=uni.getSystemInfoSync().windowHeight,this.height="".concat(this.sysheight,"px");var t=uni.getSystemInfoSync().windowWidth;this.width="".concat(t,"px")},methods:{getEl:function(t){return"string"==typeof t||"number"==typeof t?t:WXEnvironment?t.ref:t instanceof HTMLElement?t:t.$el},ListTouchStart:function(t){this.oldTime=new Date,this.oldTouces=t.changedTouches[0]},ListTouchEnd:function(t){n("log","end"," at pages/video/scrollMixins.js:53")},ListTouchMove:function(t){var e=this;if("stop"!=this.touchType){var i=this.oldTouces,n=(this.oldValue,this.touchType,t.changedTouches[0]);if(this.touchType){if(this.scroll)return;var r;0!=this.gesToken&&(l.unbind({eventType:"pan",token:this.gesToken}),this.gesToken=0),"moveYB"==this.touchType||"moveYT"==this.touchType?r=0:"moveXL"==this.touchType?r=-1:"moveXR"==this.touchType&&(r=1),this.touchType="stop";var o,a="y+".concat(this.distance,"<=0 && ").concat(r,"==0 && ").concat(this.distanceX,"==0 && \n\t\t\t\t\ty+").concat(this.distance,"-").concat(this.sysheight,">=").concat(-this.sysheight*this.videoList.length,"? \n\t\t\t\t\ty+").concat(this.distance," : ").concat(this.distance),s=this.getEl(this.$refs.swiper),c=this.getEl(this.$refs.left),u=this.getEl(this.$refs.right);if(0==this.distanceX)o=this.getEl(this.$refs.touch);else o=this.distanceX<=0?u:c;var d=l.bind({anchor:o,eventType:"pan",props:[{element:s,property:"transform.translateY",expression:a},{element:s,property:"transform.translateX",expression:"".concat(r,"!=0 && ").concat(r,"*x>0 ?x+").concat(this.distanceX," : ").concat(this.distanceX)},{element:c,property:"transform.translateX",expression:"".concat(r,"!=0&& ").concat(r*this.distanceX,"<=0&&x+").concat(this.distanceX,"<393?x+").concat(this.distanceX," : ").concat(this.distanceX)},{element:u,property:"transform.translateX",expression:"".concat(r,"!=0&& ").concat(r*this.distanceX,"<=0&&x+").concat(this.distanceX,">-393?x+").concat(this.distanceX," : ").concat(this.distanceX)}]},(function(t){if("end"===t.state){if(e.touchType=null,0==r&&0==e.distanceX&&Math.abs(t.deltaY)>e.startDistance){var i=(new Date).getTime()-e.oldTime.getTime()<=e.minTime,n=e.distance+t.deltaY;if(n>0||e.distance+t.deltaY-e.sysheight<-e.sysheight*e.videoList.length)return;e.bindTiming(n,t.deltaY,i)}if(0!=r&&r*e.distanceX<=0&&t.deltaX*e.distanceX<=0&&Math.abs(t.deltaX)>e.startDistance){var o=e.distanceX+t.deltaX;e.bindTimingX(o,t.deltaX)}}}));this.gesToken=d.token}else{var f=this.typeX?this.startDistance:0;this.touchType=Math.abs(n.pageY-i.pageY)>f?"moveY":null,"moveY"==this.touchType&&n.pageY>i.pageY?this.touchType="moveYB":"moveY"==this.touchType&&n.pageY<i.pageY&&(this.touchType="moveYT"),!this.touchType&&this.typeX&&(this.touchType=n.pageX-i.pageX>f?"moveXR":this.touchType,this.touchType=n.pageX-i.pageX<-f?"moveXL":this.touchType)}}},bindTiming:function(t,e,i){var n=this;l.unbindAll(),this.scroll=!0;var r,s,c,d=this.getEl(this.$refs.swiper);this.sysheight;Math.abs(e)<=this.backDistance&&!i?(r=(s=this.distance)-t,c="easeOutExpo(t,".concat(t,",").concat(r,",300)")):(r=(s=this.distance+(e>0?1:-1)*this.sysheight)-t,c="easeOutExpo(t,".concat(t,",").concat(r,",900)"));l.bind({eventType:"timing",exitExpression:"t>600",props:[{element:d,property:"transform.translateY",expression:c}]},function(){var t=u(o.default.mark((function t(r){var c,u;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("end"!==r.state&&"exit"!==r.state){t.next=14;break}if(n.distance=s,n.scroll=!1,!(Math.abs(e)>n.backDistance||i)){t.next=13;break}c=a(n.videoList);try{for(c.s();!(u=c.n()).done;)u.value.flag=!1}catch(t){c.e(t)}finally{c.f()}if(n.index=-n.distance/n.sysheight,n.videoList[n.index].flag=!0,!(n.videoList.length-n.index-1<=n.playCount)){t.next=11;break}return t.next=11,n.pushVideoList();case 11:t.next=14;break;case 13:Math.abs(e)<=n.backDistance&&!i&&(n.videoList[n.index].flag=!0);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},bindTimingX:function(t,e){var i=this;this.scroll=!0;var n,r,s,c=this.getEl(this.$refs.swiper),d=this.getEl(this.$refs.left),f=this.getEl(this.$refs.right),h=parseInt(this.width);Math.abs(e)<=10?(n=(r=this.distanceX)-t,s="easeOutExpo(t,".concat(t,",").concat(n,",300)")):(n=(r=this.distanceX+(e>0?1:-1)*h)-t,s="easeOutExpo(t,".concat(t,",").concat(n,",300)"));l.bind({eventType:"timing",exitExpression:"t>300",props:[{element:c,property:"transform.translateX",expression:s},{element:c,property:"transform.translateY",expression:"easeOutExpo(t,".concat(this.distance,",0,200)")},{element:d,property:"transform.translateX",expression:s},{element:f,property:"transform.translateX",expression:s}]},function(){var t=u(o.default.mark((function t(n){var s,c;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("end"===n.state||"exit"===n.state)if(i.distanceX=r,i.scroll=!1,Math.abs(e)<=10&&0==i.distanceX);else if(Math.abs(e)>10&&0!=i.distanceX){s=a(i.videoList);try{for(s.s();!(c=s.n()).done;)c.value.flag=!1}catch(t){s.e(t)}finally{s.f()}}else Math.abs(e)>10&&0==i.distanceX&&i.videoPlay(i.index);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},bindCurrentX:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;if(0==this.distanceX){this.scroll=!0;var n,r,s,c=this.getEl(this.$refs.swiper);n=(r=this.distance+(this.index-t)*this.sysheight)-this.distance,i*=Math.abs(this.index-t),s="easeOutExpo(t,".concat(this.distance,",").concat(n,",").concat(i,")");l.bind({eventType:"timing",exitExpression:"t>".concat(i),props:[{element:c,property:"transform.translateY",expression:s}]},function(){var t=u(o.default.mark((function t(i){var n,s;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("end"!==i.state&&"exit"!==i.state){t.next=10;break}e.distance=r,e.scroll=!1,n=a(e.videoList);try{for(n.s();!(s=n.n()).done;)s.value.flag=!1}catch(t){n.e(t)}finally{n.f()}if(e.index=-e.distance/e.sysheight,e.videoList[e.index].flag=!0,!(e.videoList.length-e.index-1<=e.playCount)){t.next=10;break}return t.next=10,e.pushVideoList();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},pauseVideo:function(t){this.videoList[this.oldIndex].initialTime=t},clickVideo:function(){this.videoList[this.index].flag=!this.videoList[this.index].flag},videoPlay:function(t){var e=this;0==this.distanceX&&new Promise((function(t,e){t()})).then((function(i){e.videoList[t].flag=!e.videoList[t].flag}))}},watch:{index:function(t,e){this.oldIndex=e}}});e.default=d}).call(this,i(16).default,i(14).default)}]);